This script operates on the "MSD.agr" files generated by the diffusion command in cpptraj. Each file consists of mean squared displacement (MDS) data in the x, y, and z dimensions, as well as averaged over all 3 [indicated by X], which is what I use here. In this case, the MSDs are averaged over 20 carbohydrates per simulation, for a total of 10 simulations. This script takes in all 10 MSD files and averages the MSD over all 200 carbohdyrates at each timepoint to maximize sampling. Then, a linear regression of MSD vs time is performed and the diffusion coefficient is calculated from the slope of the line of least squares fit. In this example, a-D-Glucose with the OPC water model is used. I have included the MSD files as well so the user can test the script for themselves. 
